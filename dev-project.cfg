[buildout]
extends = dev.cfg
          project.cfg

parts +=
    rsync-datafs-staging
    rsync-blobstorage-staging
    rsync-datafs-production
    rsync-blobstorage-production

[instance]
environment-vars +=
    DEPLOY_ENV dev

[rsync-datafs-staging]
recipe = collective.recipe.rsync
source = ${projects:id}@{projects:staging_ip}:/data/${projects:id}/${projects:id}-website/var/filestorage/Data.fs
target = ${buildout:directory}/var/filestorage
script = true
port = 22

[rsync-blobstorage-staging]
recipe = collective.recipe.rsync
source = ${projects:id}@{projects:staging_ip}192.168.13.12:/data/${projects:id}/${projects:id}-website/var/blobstorage
target = ${buildout:directory}/var
script = true
port = 22

[rsync-datafs-production]
recipe = collective.recipe.rsync
source = ${projects:id}@{projects:production_ip}:/data/${projects:id}/${projects:id}-website/var/filestorage/Data.fs
target = ${buildout:directory}/var/filestorage
script = true
port = 22

[rsync-blobstorage-production]
recipe = collective.recipe.rsync
source = ${projects:id}@{projects:production_ip}192.168.13.12:/data/${projects:id}/${projects:id}-website/var/blobstorage
target = ${buildout:directory}/var
script = true
port = 22
